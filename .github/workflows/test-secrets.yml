name: Test Secrets Configuration

on:
  workflow_dispatch:  # å…è®¸æ‰‹åŠ¨è§¦å‘

jobs:
  test-secrets:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v3
      
    - name: Test Secrets Availability
      run: |
        echo "Testing secrets availability..."
        
        # æ£€æŸ¥æ¯ä¸ªsecretæ˜¯å¦å­˜åœ¨
        if [ -z "${{ secrets.DEPLOYER_PRIVATE_KEY }}" ]; then
          echo "âŒ DEPLOYER_PRIVATE_KEY is not set"
          exit 1
        else
          echo "âœ… DEPLOYER_PRIVATE_KEY is configured"
          echo "   Length: ${#DEPLOYER_PRIVATE_KEY}"
        fi
        
        if [ -z "${{ secrets.SEPOLIA_RPC_URL }}" ]; then
          echo "âŒ SEPOLIA_RPC_URL is not set"
          exit 1
        else
          echo "âœ… SEPOLIA_RPC_URL is configured"
        fi
        
        if [ -z "${{ secrets.ETHERSCAN_API_KEY }}" ]; then
          echo "âŒ ETHERSCAN_API_KEY is not set"
          exit 1
        else
          echo "âœ… ETHERSCAN_API_KEY is configured"
        fi
        
        if [ -z "${{ secrets.VERCEL_TOKEN }}" ]; then
          echo "âŒ VERCEL_TOKEN is not set"
          exit 1
        else
          echo "âœ… VERCEL_TOKEN is configured"
        fi
        
        if [ -z "${{ secrets.VERCEL_ORG_ID }}" ]; then
          echo "âŒ VERCEL_ORG_ID is not set"
          exit 1
        else
          echo "âœ… VERCEL_ORG_ID is configured"
        fi
        
        if [ -z "${{ secrets.VERCEL_PROJECT_ID }}" ]; then
          echo "âŒ VERCEL_PROJECT_ID is not set"
          exit 1
        else
          echo "âœ… VERCEL_PROJECT_ID is configured"
        fi
        
        echo "ğŸ‰ All secrets are properly configured!"